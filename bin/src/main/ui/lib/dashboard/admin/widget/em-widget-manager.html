<sc-link rel="import" href="es-widget-list.html"></sc-link>
<sc-link rel="import" href="es-widget-detail.html"></sc-link>
<script src="../../resources/js/html2canvas/html2canvas.js"></script>
<sc-link rel="stylesheet" type="text/css" href="ui/lib/dashboard/resources/css/dashboard.css"></sc-link>
<sc-link rel="stylesheet" type="text/css" href="ui/lib/dashboard/resources/js/jsoneditor/jsoneditor.css"></sc-link>

<dom-module id="em-widget-manager">
    <style>
	    :host {
            @apply(--vbox-layout);
        }
    </style>

    <template>
   		<sc-pages id="pages" selected="0" class="fit">
			<es-widget-list id="widgetList" on-show-widget-detail="onShowWidgetDetail"></es-widget-list>
			<template>
				<es-widget-detail id="widgetDetail"  on-widget-detail-close="onDetailClose"></es-widget-detail>
			</template>
		</sc-pages>
	</template>	
    <script>
        Polymer({
            is: "em-widget-manager",

            properties: {
               
            },  
            listeners : {
            	
    		},
    		onShowWidgetDetail : function(e,data){
    			var me = this, widgetDetail = me.$.widgetDetail;
    			me.$.pages.selectItem(widgetDetail);
    			me.$.widgetDetail.load(data);
    		},
    		onDetailClose : function(){
    			var me = this;
    			me.$.pages.selectItem(me.$.widgetList);
    			me.$.widgetList.load();
    		}
        });
    </script>
</dom-module>
