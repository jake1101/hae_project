var __gridlist=function(b){function A(a){this._viewlist=null;this._viewlistcnt=-1;this._selectedrow=null;this._tabidx=this._rowcnt=this._colcnt=-1;this._resizeFlag=!1;this._limittitleelementwidth=[];this._datarowwidth=this._datalistwidth=this._limitdatarowwidth=this._limitdataelementwidth=this._limittitlerowwidth=0;this._arrdataelementwidth=[];this._lastonmousemoveevent=document.onmousemove;this._lastonmouseupevent=document.onmouseup;this._listtype=a.listtype;this._tblid=a.tblid;this._tbltitleid=a.tbltitleid;this._titlelistid=a.titlelistid;this._titlerowid=a.titlerowid;this._titleelementid=a.titleelementid;this._titledividerid=a.titledividerid;this._titlelistcn=a.titlelistcn;this._titlerowcn=a.titlerowcn;this._titleelementcn=a.titleelementcn;this._titledividercn=a.titledividercn;this._tblbodyid=a.tblbodyid;this._datalistid=a.datalistid;this._datarowid=a.datarowid;this._dataelementid=a.dataelementid;this._datalistcn=a.datalistcn;this._datarowcn=a.datarowcn;this._dataelementcn=a.dataelementcn;this._dataselectcn=a.dataselectcn}A.prototype={setViewList:function(a){this._viewlist=a},getViewList:function(){return this._viewlist},setViewListCnt:function(a){this._viewlistcnt=a},getViewListCnt:function(){return this._viewlistcnt},setRowCnt:function(a){this._rowcnt=a},getRowCnt:function(){return this._rowcnt},setColCnt:function(a){this._colcnt=a},getColCnt:function(){return this._colcnt},setTabIdx:function(a){this._tabidx=a},getTabIdx:function(){return this._tabidx},setDataListWidth:function(a){this._datalistwidth=a},getDataListWidth:function(){return this._datalistwidth},setDataRowWidth:function(a){this._datarowwidth=a},getDataRowWidth:function(){return this._datarowwidth},setDataElementWidth:function(a,b){this._arrdataelementwidth[a]=b},getDataElementWidth:function(a){return this._arrdataelementwidth[a]},getLimitTitleRowWidth:function(){return this._limittitlerowwidth},getLimitTitleElementWidth:function(a){return this._limittitleelementwidth[a-1]},getLimitDataRowWidth:function(){return this._limitdatarowwidth},getLimitDataElementWidth:function(){return this._limitdataelementwidth},getResizeFlag:function(){return this._resizeFlag},getLastOnMouseMoveEvent:function(){return this._lastonmousemoveevent},getLastOnMouseUpEvent:function(){return this._lastonmouseupevent},getListTypeID:function(){return this._listtype},getTitleListID:function(){return this._titlelistid},getTitleRowID:function(){return this._titlerowid},getTitleElementID:function(){return this._titleelementid},getDividerID:function(){return this._titledividerid},getDataListID:function(){return this._datalistid},getDataRowID:function(){return this._datarowid},getDataElementID:function(){return this._dataelementid},getSelectedRow:function(){return this._selectedrow},focusOnRow:function(a){if(!a)return!1;var l=a.childNodes.length,e=-1;if(this._selectedrow){for(var e=this._selectedrow.getAttribute("tabindex"),c=0;c<l;c++)"certslist"==this.getListTypeID()?this._selectedrow.childNodes[c].className=this._dataelementcn+" grid-element"+(c+1):this._selectedrow.childNodes[c].className=this._dataelementcn;this._selectedrow.setAttribute("aria-selected","false",0);this._selectedrow.removeAttribute("tabindex")}for(c=0;c<l;c++)"certslist"==this.getListTypeID()?a.childNodes[c].className=this._dataselectcn+" grid-element"+(c+1):a.childNodes[c].className=this._dataselectcn;a.setAttribute("aria-selected","true",0);-1<e&&(a.setAttribute("tabindex",e,0),setTimeout(function(){a.focus()},10));this._selectedrow=a;if(null!=document.getElementById("us-div-cert-manage-detail")&&"none"!=document.getElementById("us-div-cert-manage-detail").style.display){if("undefined"==this.getSelectedIndex())return;l=this.getSelectedIndex();b.certsList&&b.certsList.list&&null!=b.certsList.list[l-1]&&null!=b.certsList.list[l-1].cert&&(b.usWebToolkit.x509Certificate.parser(b.certsList.list[l-1].cert,"Base64"),document.getElementById("us-layout-cert-manage-detail-box-subject").innerHTML="<b>"+b.certUtil().getCN(b.usWebToolkit.x509Certificate.getSubjectName())+"</b>",document.getElementById("us-layout-cert-manage-detail-box-expire-data").innerHTML=b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotBefore())+" ~ "+b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotAfter()))}return!0},getRowForFocusing:function(a,b){if(!a||!b)return null;var e=a||window.event,c=e.which||e.keyCode,e=parseInt(b.parentNode.childNodes.length);if(13==c)return c=b.id.split(this._datarowid),c=parseInt(c[1])-1,e=this._datarowid+(c+1),e=document.getElementById(e);if(38===c){if(c=b.id.split(this._datarowid),c=parseInt(c[1])-1,!(0>=c))return e=this._datarowid+c,e=document.getElementById(e)}else if(40===c&&(c=b.id.split(this._datarowid),c=parseInt(c[1])-1,!(c>=e-1||c>=this._viewlistcnt-1)))return e=this._datarowid+(c+2),e=document.getElementById(e);return null},getSelectedIndex:function(){if(!this._selectedrow)return-1;var a=this._selectedrow.childNodes.length;return a=this._selectedrow.childNodes[a-1].firstChild.nodeValue},drawListTitle:function(a,l,e){if(!a||0>=l)return!1;this._colcnt=l;this._resizeFlag=e;e=document.createElement("DIV");e.setAttribute("id",this._titlelistid,0);e.className=this._titlelistcn;document.getElementById(this._tbltitleid).appendChild(e);l=document.createElement("DIV");l.setAttribute("id",this._titlerowid,0);l.className=this._titlerowcn;e.appendChild(l);e=b.uiUtil().getNumSize(b.uiUtil().getStyle(e,"width","width"));for(var c=e/this._colcnt,u=b.uiUtil().getNumSize(b.uiUtil().getStyle(l,"height","height")),p=0,d=0;d<this._colcnt;d++){var f=document.createElement("DIV");f.setAttribute("id",this._titleelementid+(d+1),0);l.appendChild(f);"certslist"==this.getListTypeID()?(f.className="grid-element"+(d+1),p=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"width","width")),f.className=this._titleelementcn+" grid-element"+(d+1)):f.className=this._titleelementcn;f.appendChild(document.createTextNode(a[d].title));var g=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingLeft","padding-left")),m=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingRight","padding-right")),n=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingTop","padding-top")),q=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingBottom","padding-bottom")),n=u-(n+q),q=c-(g+m),x=0;0<p&&(x=p-(g+m));"detailslist"==this._listtype&&(q=0===d?q-q/2+10:q+q/2-10);g=0;this._resizeFlag&&(g=document.createElement("DIV"),g.setAttribute("id",this._titledividerid+(d+1),0),g.className=this._titledividercn,g.style.height=n+"px",g.style.cursor="e-resize",l.appendChild(g),g=b.uiUtil().getNumSize(b.uiUtil().getStyle(g,"width","width")),q-=g,150<p&&(p=150),this._limittitleelementwidth[d]=p);f.style.width=0<x?x-g+"px":q+"px";f.style.height=n+"px"}this._resizeFlag&&(this._limittitlerowwidth=e);return!0},drawListBody:function(a,l){this._viewlist=a;this._viewlistcnt=l;var e=document.createElement("DIV");e.setAttribute("id",this._datalistid,0);e.className=this._datalistcn;document.getElementById(this._tblbodyid).appendChild(e);this._rowcnt=this._viewlistcnt;for(var c=b.uiUtil().getNumSize(b.uiUtil().getStyle(e,"width","width")),u=c/this._colcnt,p=0,d=0;d<this._rowcnt;d++){var f=document.createElement("DIV");f.setAttribute("id",this._datarowid+(d+1),0);f.className=this._datarowcn;f.setAttribute("aria-selected","false",0);e.appendChild(f);if("chrome"==b.browserName||"safari"==b.browserName){var g=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"width","width"));c<g&&(c=g,u=c/this._colcnt)}for(var g=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"height","height")),m=0;m<this._colcnt;m++){var n=document.createElement("DIV");n.setAttribute("id",this._dataelementid+(d+1)+"-"+(m+1),0);f.appendChild(n);"certslist"==this.getListTypeID()?(n.className="grid-element"+(m+1),p=b.uiUtil().getNumSize(b.uiUtil().getStyle(n,"width","width")),n.className=this._dataelementcn+" grid-element"+(m+1)):n.className=this._dataelementcn;var q=b.uiUtil().getNumSize(b.uiUtil().getStyle(n,"paddingLeft","padding-left")),x=b.uiUtil().getNumSize(b.uiUtil().getStyle(n,"paddingRight","padding-right")),t=b.uiUtil().getNumSize(b.uiUtil().getStyle(n,"paddingTop","padding-top")),h=b.uiUtil().getNumSize(b.uiUtil().getStyle(n,"paddingBottom","padding-bottom")),t=g-(t+h),h=u-(q+x),k=0;0<p&&(k=p-(q+x));"detailslist"==this._listtype&&(h=0===m?h-h/2+10:h+h/2-10);this._resizeFlag?(this._arrdataelementwidth[m]?this._limitdataelementwidth=h:this._arrdataelementwidth[m]=0<k?k:h,n.style.width=this._arrdataelementwidth[m]+"px"):n.style.width=0<k?k+"px":h+"px";n.style.height=t+"px"}this._resizeFlag&&(0<this._datarowwidth?f.style.width=this._datarowwidth+"px":this._limitdatarowwidth=c);0===d&&f.setAttribute("tabindex",this._tabidx,0)}this._resizeFlag&&0<this._datalistwidth&&(e.style.width=this._datalistwidth+"px");b.uiUtil().loadingBox(!1,"us-div-list-load");return!0},listClear:function(){var a=document.getElementById(this._tblbodyid),b=document.getElementById(this._datalistid);this._viewlist=this._selectedrow=null;this._viewlistcnt=-1;if(a&&b)a.removeChild(b);else return!1;return!0}};return function(a){function l(){var b=a.textboxid,c=d.getSelectedRow();if(!c||!b)return!1;b=document.getElementById(b);if(!b)return!1;b.value=c.childNodes[1].firstChild.nodeValue;return!0}function e(a,d){var c=document.createElement("IMG");if(0===d)c.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_small.png",0);else if(1===d)c.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_1_month_small.png",0);else if(2===d)c.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_invalid_small.png",0);else return;c.setAttribute("align","middle",0);c.setAttribute("alt","",0);a.insertBefore(c,a.firstChild)}function c(a){var d=document.createElement("IMG");d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_list_check.png",0);d.setAttribute("align","middle",0);d.setAttribute("alt","",0);a.appendChild(d)}function u(){for(var a=d.getViewList(),m=d.getSelectedRow(),n=d.getColCnt(),q=d.getViewListCnt(),x=d.getDataRowID(),t=d.getDataElementID(),h=0;h<q;h++){var k=document.getElementById(x+(h+1)),r;for(r=0;r<n;r++){var s=document.getElementById(t+(h+1)+"-"+(r+1));s.appendChild(document.createTextNode(a[h][r]));"detailslist"!=f&&(0===r&&e(s,a[h][6]),4===r&&"certslist"==f&&c(s))}"detailslist"==f?(k.onclick=function(){d.focusOnRow(this);l()},k.onkeydown=function(a){a=d.getRowForFocusing(a?a:event,this);d.focusOnRow(a);l()}):(k.onclick=function(){d.focusOnRow(this)},k.onkeydown=function(a){a=d.getRowForFocusing(a?a:event,this);d.focusOnRow(a)},"certslist"==f&&(k.ondblclick=function(){d.focusOnRow(this);var a=this,c=d.getSelectedIndex(),e=b.loadUI("certview")({type:null,args:{type:"Base64",idx:c,cert:b.certsList.list[c-1].cert},onConfirm:function(){e.dispose();a.focus()},onCancel:function(){e.dispose();a.focus()}});e.show();b.uiUtil().loadingBox(!1,"us-div-list-load")}));k.style.cursor="pointer";s=document.createElement("DIV");s.setAttribute("id",t+(h+1)+"-"+(r+1),0);s.style.display="none";s.appendChild(document.createTextNode(a[h][r]));k.appendChild(s);0!==h||m||("detailslist"==f?(d.focusOnRow(k),l()):d.focusOnRow(k))}}function p(){for(var a=d.getColCnt(),c=d.getDividerID(),e=!1,f=0,l=0,t=null,h=null,k=null,r=null,s=null,p=null,u=null,C=null,B=0,A=0,F=0,G=0,D=0,E=0,y=0,z=0;z<a;z++)document.getElementById(c+(z+1)).onmousedown=function(a){f=(a?a:event).clientX;e=!0;k=d.getTitleElementID();r=d.getDataElementID();s=d.getTitleRowID();p=d.getDataRowID();u=d.getTitleListID();C=d.getDataListID();c=d.getDividerID();y=parseInt(this.id.replace(c,""));t=k+y;h=r+"1-"+y;B=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(t),"width","width"));F=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(s),"width","width"));D=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(u),"width","width"));A=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(h),"width","width"));G=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(p+"1"),"width","width"));E=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(C),"width","width"))};document.onmousemove=function(a){if(e){l=(a?a:event).clientX;var c=0,g=0,m=0,h=0,k=0,v=0,k=l-f,v=0;a=t.split("element")[t.split("element").length-1];h=d.getLimitTitleRowWidth();g=d.getLimitTitleElementWidth(a);a=d.getLimitDataRowWidth();var w=d.getLimitDataElementWidth();B<g&&(g=B);for(var c=document.getElementById(r+"1-"+y),m=document.getElementById(s).childNodes,z=w=0;z<m.length;z++){var H=b.uiUtil().getNumSize(m[z].style.width);0<H&&(w+=H)}D=E=w;m=b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"paddingLeft","padding-left"));c=b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"paddingRight","padding-right"));w=g-m-c;5!=y&&(w+=1);c=B+k;g>c&&(v=g-c,c=g);g=F+k+v;h>g&&(g=h);m=D;h>m&&(m=h);h=A+k;w>h&&(v=w-h,h=w);k=G+k+v;a>k&&(k=a);v=E;a>v&&(v=a);document.getElementById(s).style.width=g+"px";document.getElementById(u).style.width=m+"px";document.getElementById(t).style.width=c+"px";a=d.getRowCnt();for(g=0;g<a;g++)document.getElementById(p+(g+1)).style.width=k+"px",document.getElementById(r+(g+1)+"-"+y).style.width=h+"px";document.getElementById(C).style.width=v+"px";d.setDataElementWidth(y-1,h);d.setDataRowWidth(k);d.setDataListWidth(v)}};document.onmouseup=function(a){e=!1}}var d=new A({listtype:a.type,tblid:a.tblid,tbltitleid:a.tbltitleid,titlelistid:a.titlelistid,titlerowid:a.titlerowid,titleelementid:a.titleelementid,titledividerid:a.titledividerid,titlelistcn:a.titlelistcn,titlerowcn:a.titlerowcn,titleelementcn:a.titleelementcn,titledividercn:a.titledividercn,tblbodyid:a.tblbodyid,datalistid:a.datalistid,datarowid:a.datarowid,dataelementid:a.dataelementid,datalistcn:a.datalistcn,datarowcn:a.datarowcn,dataelementcn:a.dataelementcn,dataselectcn:a.dataselectcn}),f=d.getListTypeID();return{drawList:function(a,b,c,e,f,l){if(!a||0>=b||0>f)return!1;0<=f&&d.setTabIdx(f);d.drawListTitle(a,b,l);if(0>=e)d.drawListBody(null,-1);else if(0<e&&c)d.drawListBody(c,e),u();else return!1;l&&p();return!0},drawTitle:function(a,b,c){if(!a||0>=b||0>c)return!1;0<=c&&d.setTabIdx(c);d.drawListTitle(a,b);return!0},redrawList:function(a,b){d.listClear();if(0>=b)d.drawListBody(null,-1);else if(0<b&&a)d.drawListBody(a,b),u();else return!1;return!0},clearList:function(){d.listClear();return!0},restoreOnMouseEvent:function(){d.getResizeFlag()&&(document.onmousemove=d.getLastOnMouseMoveEvent(),document.onmouseup=d.getLastOnMouseUpEvent());return!0},selectedIndex:function(){return d.getSelectedIndex()}}}};