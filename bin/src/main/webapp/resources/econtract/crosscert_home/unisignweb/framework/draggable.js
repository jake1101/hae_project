!function(q,l){"function"===typeof define&&"object"===typeof define.amd?define(l):this[q]=l()}("draggable",function(){function q(a){a.draggableListeners={start:[],drag:[],stop:[]};a.whenDragStarts=r(a,"start");a.whenDragging=r(a,"drag");a.whenDragStops=r(a,"stop")}function l(a,c){var b,f,g;d=c;g=f=0;var e=d;do f+=e.offsetTop,g+=e.offsetLeft;while(e=e.offsetParent);e=null;if(e=d.currentStyle?d.currentStyle:getComputedStyle(d))g=g-(parseInt(e["margin-left"])||0)-(parseInt(e["border-left"])||0),f=f-(parseInt(e["margin-top"])||0)-(parseInt(e["border-top"])||0);b=navigator.userAgent;var h=null,k=e=null;0<=b.indexOf("MSIE")?(h="msie","BackCompat"==document.compatMode?e=5:document.documentMode?e=document.documentMode:k=/MSIE ([0-9]{1,}[.0-9]{0,})/):0<=b.indexOf("Chrome")?(h="chrome",k=/Chrome\/([0-9]{1,}[.0-9]{0,})/):0<=b.indexOf("Firefox")?(h="firefox",k=/Firefox\/([0-9]{1,}[.0-9]{0,})/):0<=b.indexOf("Safari")?(h="safari",k=/Version\/([0-9]{1,}[.0-9]{0,})/):0<=b.indexOf("Opera")?(h="opera",k=/Version\/([0-9]{1,}[.0-9]{0,})/):(h="unknown",e=0);k&&k.exec(b)&&(e=parseFloat(RegExp.$1));b=h;"firefox"===b||"opera"===b||"msie"===b&&7===e||(d.style.left=g+"px",d.style.top=f+"px");d.lastXPosition=a.clientX;d.lastYPosition=a.clientY;s("start",{x:g,y:f,mouseEvent:a})&&(document.addEventListener?(document.addEventListener("selectstart",m),document.addEventListener("mousemove",n),document.addEventListener("mouseup",p)):(document.attachEvent("onselectstart",m),document.attachEvent("onmousemove",n),document.attachEvent("onmouseup",p)))}function r(a,c){return function(b){a.draggableListeners[c].push(b)}}function s(a,c){for(var b=!0,f=d.draggableListeners[a],g=f.length-1;0<=g;g--)!1===f[g](c)&&(b=!1);return b}function m(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return a.returnValue=!1}function n(a){var c=d.style,b=parseInt(c.left,10),f=parseInt(c.top,10),b=b+(a.clientX-d.lastXPosition),f=f+(a.clientY-d.lastYPosition);c.left=b+"px";c.top=f+"px";d.lastXPosition=a.clientX;d.lastYPosition=a.clientY;s("drag",{x:b,y:f,mouseEvent:a})}function p(a){document.removeEventListener?(document.removeEventListener("selectstart",m),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",p)):(document.detachEvent("onselectstart",m),document.detachEvent("onmousemove",n),document.detachEvent("onmouseup",p));var c=parseInt(d.style.left,10),b=parseInt(d.style.top,10);s("stop",{x:c,y:b,mouseEvent:a})}var d;return function(a,c){c=c||a;a.style.position="absolute";q(a);c.addEventListener?c.addEventListener("mousedown",function(b){l(b,a)}):c.attachEvent("onmousedown",function(b){l(b,a)})}});