var __mobileselect=function(b){var r=function(d){function m(a){if(!a)return alert("UI load error."),!1;var b=document.createElement("div");document.body.insertBefore(b,document.body.firstChild);b.innerHTML=a;return!0}function h(a){var b=["mobiletoken","mobilephone"];n=a;for(var f in b)a==f?document.getElementById("us-btn-storage-"+b[f]).className="us-layout-storage-btn-on":document.getElementById("us-btn-storage-"+b[f]).className="us-layout-storage-btn-off"}function c(a){if(null==a||void 0==a)return!1;var e=!b.uiUtil().isItSupportingThisStorage(a);!1==e&&null!=b.ESVS.Media&&null!=b.ESVS.Media.list&&0>b.ESVS.Media.list.indexOf(a.name)&&(e=!0);if(e)return!1;var e=document.getElementById("us-btn-mobile-btn-list"),f=document.createElement("li");f.setAttribute("id","us-mobile-btn-li-"+a.name,0);f.setAttribute("mediaIndex",a.mediaIndex,0);7==a.mediaIndex&&(f.className="line-first");"hidden"===a.visibility?(f.style.display="none",f.style.visibility="hidden"):(f.style.display="block",f.style.visibility="visible");var g=document.createElement("button");g.setAttribute("type","button",0);g.setAttribute("id","us-btn-storage-"+a.name,0);g.setAttribute("title",a.label,0);g.setAttribute("tabindex",a.tabIndex,0);a.disabled?(g.onclick=function(){b.uiUtil().msgBox(q.IDS_MSGBOX_NOT_SUPPORTED_MEDIA)},g.className="us-layout-storage-btn-none"):(g.onclick=a.onclick,g.className="us-layout-storage-btn-off");f.appendChild(g);if("harddisk"!==a.name&&"webstorage"!==a.name){var c=document.createElement("span");c.className="us-drive-select";g.appendChild(c)}c=document.createElement("span");c.className="us-img-storage";var d=document.createElement("img");d.setAttribute("id","us-img-mobile-"+a.name,0);d.setAttribute("alt",a.label,0);a.disabled?d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/media_"+a.name+"_d.png",0):d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/media_"+a.name+".png",0);c.appendChild(d);g.appendChild(c);c=document.createElement("span");c.setAttribute("id","us-lbl-mobile-"+a.name,0);c.className="us-layout-lbl-storage";c.appendChild(document.createTextNode(a.label));g.appendChild(c);f.appendChild(g);e.appendChild(f);return!0}var k=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/layout/mobileselect.html?version="+b.ver,!1);a.send(null);return a.responseText},p=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/lang/"+b.ESVS.Language+"/mobileselect_"+b.ESVS.Language+".js?version="+b.ver,!1);a.send(null);return a.responseText},q=eval(eval(p)()),l=b.ESVS.TabIndex,n=null;return function(){var a=eval(k),e=eval(eval(p)());m(a());a=document.getElementById("us-mobile-select-lbl-title");a.appendChild(document.createTextNode(e.IDS_STORAGE_SELECTION));a.setAttribute("tabindex",l++,0);document.getElementById("us-mobile-select-cls-btn-img").setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);a=b.CONST.medias.mobiletoken;a.label=e.IDS_STORAGE_MOBILETOKEN;a.onclick=function(){h(0)};a.tabIndex=l++;a.mediaIndex=1;a.visibility="visible";c(a);a=b.CONST.medias.mobilephone;a.label=e.IDS_STORAGE_MOBILEPHONE;a.onclick=function(){h(1)};a.tabIndex=l++;a.mediaIndex=2;a.visibility="visible";c(a);a=document.getElementById("us-mobile-select-confirm-btn");a.setAttribute("value",e.IDS_CONFIRM,0);a.setAttribute("title",e.IDS_CONFIRM+e.IDS_BUTTON,0);a.setAttribute("tabindex",l++,0);a.onclick=function(){if(null==n)alert(e.IDS_MSGBOX_ERROR_PLEASE_SELECT_STORAGE);else d.onConfirm(n)};a=document.getElementById("us-mobile-select-cancel-btn");a.setAttribute("value",e.IDS_CANCEL,0);a.setAttribute("title",e.IDS_CANCEL+e.IDS_BUTTON,0);a.setAttribute("tabindex",l++,0);a.onclick=function(){d.onCancel()};a=document.getElementById("us-mobile-select-cls-img-btn");a.setAttribute("title",e.IDS_STORAGE_SELECTION_CLOSE,0);a.setAttribute("tabindex",l++,0);a.onclick=function(){d.onCancel()};return document.getElementById("us-div-mobile-select")}()};return function(d){var m=b.uiLayerLevel,h=b.uiUtil().getOverlay(m),c=r({type:d.type,args:d.args,onConfirm:d.onConfirm,onCancel:d.onCancel});c.style.zIndex=m+1;b.ESVS.TargetObj.insertBefore(h,b.ESVS.TargetObj.firstChild);var k=window.onresize;return{show:function(){b.ActiveUI=this;draggable(c,document.getElementById("us-div-mobile-select-title"));h.style.display="block";b.uiUtil().offsetResize(c);window.onresize=function(){b.uiUtil().offsetResize(c);k&&k()};b.uiLayerLevel+=10;b.ESVS.TabIndex+=30;setTimeout(function(){var b=c.getElementsByTagName("p");if(0<b.length)for(var d=0;d<b.length;d++)"us-mobile-select-lbl-title"==b[d].id&&b[d].focus()},10)},hide:function(){h.style.display="none";c.style.display="none"},dispose:function(){window.onresize=function(){k&&k()};c.parentNode.parentNode.removeChild(c.parentNode);h.parentNode.removeChild(h);b.uiLayerLevel-=10;b.ESVS.TabIndex-=30}}}};